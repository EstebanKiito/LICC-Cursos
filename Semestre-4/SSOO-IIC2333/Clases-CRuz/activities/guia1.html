<!DOCTYPE html><html lang="es"><head><!--[if IE]><!--Get a real browser!--><![endif]--><!--Do NOT read this file, the source is available--><meta charset="utf-8" /><title>Evoluci칩n de los sistemas operativos</title><meta content="IIC2333 Sistemas Operativos y Redes, 2022-1" name="description" /><meta content="Cristian Ruz" name="author" /><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport" /><link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/css/bootstrap.min.css" rel="stylesheet" /><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/zenburn.min.css"><script src="../js/highlight.pack.js"></script><script src="../js/fairyDustCursor.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css" rel="stylesheet" /><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/contrib/auto-render.min.js"></script><script src="js/countdown.min.js"></script><script>hljs.initHighlightingOnLoad();</script><style type="text/css">html {
  font-family: sans-serif !important;
  background-color: #FFFFE0;
}
pre code.hljs {
  display: block;
}
code.hljs {
  display: inline;
}

// Hover stuff
code:hover>div {
  display: block;
}
code>div {
  display: none;
}
table {
  margin: auto;
  //border-collapse: separate;
  //border-spacing: 0 0.1em;
}
tr.sep {
  margin-top: 0.2em;
}
td {
  min-width:4em;
}
td.r2 {
  rowspan: 2;
}
td.full {
  color: #ddd;
  background-color: #282;
}
td.empty {
  color: #ddd;
  background-color: #333;
}

// Fix dl/ dd-dt
dl.inline dd {
  display: inline;
  margin: 0;
}
dl.inline dd:after{
  display: block;
  content: '';
}
dl.inline dt{
  display: inline-block;
  min-width: 100px;
}

section {
  padding-top: 2em;
}
h1, h2, h3, h4, h5, h6 {
  padding-top: 0.4em;
}
.top {
  padding-top: 0.2em;
}
.container {
  display: flex;
  justify-content: center;
}
.container-col {
  display: flex;
  justify-content: center;
  flex-direction: column;
}
.container > img {
  align-content: center;
}
.container-col > img {
  align-content: center;
}
body {
  font-family: sans-serif !important;
  background-color: #FFFFE0;
  color: #000;

}
.card{
  margin:auto;
  float: left;
  width: 12rem;
  text-align: center;
  margin-left: 5%;
}

.column {
  float: left;
  width: 33.33%;

}

.row {
  margin-top: 2rem;
  margin-bottom: 2rem;

}

.row:after {
  content: "";
  display: table;
  clear: both;

}</style></head><body><a href="/"><header class="col-xs-8 col-md-10 col-md-offset-1"><br /><a href="https://www.youtube.com/watch?v=FGwevyxoycw"><img src="../images/figures/logo1.gif" width="100%" /></a></header></a><div class="col-xs-12 col-md-8 col-md-offset-3"><div class="row"><div class="columm"><div class="card"><div class="card-title">救넖잺 Sitio Canvas 救넖잺</div><div class="card-title"><a href="https://cursos.canvas.uc.cl/courses/39207" class="btn btn-primary btn-sm" role="button">Ir</a> <!-- 2022-1 --></div></div></div><div class="columm"><div class="card"><div class="card-title">游늳 Planilla de Notas 游늳</div><div class="card-title"><a href="#" class="btn btn-primary btn-sm disabled" role="button">Ir</a></div></div></div></div></div><div class="col-xs-12 col-md-8 col-md-offset-2"><article><section class="top"><p>Algunos comandos 칰tiles</p></section><section><h3>Obteniendo el c칩digo <i>assembler</i></h3><p>En esta actividad vamos a interrumpir el proceso de compilaci칩n de C, y vamos a obtener el lenguaje generado en assembler.</p><p>Como primer paso, escriba el siguiente programa en C para sumar dos n칰meros.</p><pre><code class="hljs c">#include &lt;stdio.h&gt;

int main() {
    int a,b,c;
    a = 2;
    b = 3;
    c = a+b;
    printf("La suma es %d\n", c);
    return 0;
}</code></pre><p>Normalmente utilizamos <code>gcc</code> para obtener el ejecutable <code>sum</code> con:</p><pre><code class="hljs shell">gcc -o sum sum.c</code></pre><p>Y obtenemos el resultado:</p><pre><code class="hljs shell">cruz@hercules:activities$ ./sum 
La suma es 5</code></pre><p>Si agregamos el <i>flag</i> <code>-S</code>, el proceso se detiene justo despu칠s de la compilaci칩n, pero antes del ensamblador. El detalle de los <i>flags</i> que se le pueden pasar a <code>gcc</code> puede consultarlo en la <a href="https://linux.die.net/man/1/gcc"/><i>manpage</i></a> de <code>gcc</code>, o bien ejecutando <code>man gcc</code>.</p><p>La salida que se obtiene es un c칩digo <i>assembler</i> en el lenguaje de la m치quina (en este caso, Intel x86-64). Se genera un archivo resultado <code>sum.s</code>, cuyo contenido deber칤a ser similar a:</p><pre><code class="hljs x86asm" style="font-size:10px;">        .file   "sum.c"
        .section        .rodata
.LC0:
        .string "La suma es %d\n"
        .text
        .globl  main
        .type   main, @function
main:
.LFB0:
        .cfi_startproc
        pushq   %rbp
        .cfi_def_cfa_offset 16
        .cfi_offset 6, -16
        movq    %rsp, %rbp
        .cfi_def_cfa_register 6
        subq    $16, %rsp
        movl    $2, -12(%rbp)
        movl    $3, -8(%rbp)
        movl    -12(%rbp), %edx
        movl    -8(%rbp), %eax
        addl    %edx, %eax
        movl    %eax, -4(%rbp)
        movl    -4(%rbp), %eax
        movl    %eax, %esi
        movl    $.LC0, %edi
        movl    $0, %eax
        call    printf
        movl    $0, %eax
        leave
        .cfi_def_cfa 7, 8
        ret
        .cfi_endproc
.LFE0:
        .size   main, .-main
        .ident  "GCC: (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609"
        .section        .note.GNU-stack,"",@progbits</code></pre><p>Este c칩digo a칰n no es directamente ejecutable en la m치quina. Le falta el c칩digo de librer칤as como <code>stdio</code> que contienen la definici칩n de funciones como <code>printf</code> y otras est치ndar de C. Sin embargo, el c칩digo que escribimos se puede <i>ver</i> traducido en l칤neas que escriben las constantes <code>2</code> y <code>3</code> a <code>12</code> y <code>8</code> byte de distancia del registro <code>rbp</code> que corresponde al <i>stack base pointer</i> para luego copiarlas a dos registros de la CPU, <code>edx</code> y <code>eax</code>, que posteriormente son sumados con la instrucci칩n <code>addl</code>. El resultado, que queda en <code>eax</code>, y el <i>string</i> <code>"La suma es %d\n"</code> se copian a los registros <code>esi</code> y <code>edi</code>, y se limpia el registro <code>eax</code> (escribiendo la constante <code>0</code>) para luego llamar al c칩digo de <code>printf</code>. El llamado a la funci칩n <code>main</code> termina con <code>ret</code>.</p><p>Pueden aprender m치s sobre el proceso de compilaci칩n de <code>gcc</code> en <a href="http://www.network-theory.co.uk/docs/gccintro/index.html"><i>An Introduction to GCC</i></a>, y una referencia a la arquitectura x86 en <a href="https://en.wikibooks.org/wiki/X86_Assembly/X86_Architecture">wikibooks</a></p><section><h5>VM</h5><p>Si ya usan Linux vayan a la secci칩n de <a href="#programas">programas</a>.</p><p>Si no usan Linux, les recomendamos usar una VM, ya que no requiere particionar su disco.</p><p>Mientras descargan e instalan pueden comenzar a leer en paralelo la secci칩n de <a href="#git" target="blank">git</a>.</p><ul style="-webkit-columns:2; -moz-columns:2; columns:2;  list-style-position: inside;"><li><strong><a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox (Gratis)</a></strong></li><li><a href="http://www.vmware.com/">VMWare</a></li><li><a href="http://www.parallels.com/">Parallels</a></li></ul><p>En algunos computadores la virtualizaci칩n debe ser habilitada desde la BIOS.</p><p>Existen muchas distribuciones de Linux. Todas ofrecen el kernel de Linux y un package manager, el que permite instalar paquetes de software, los que tienen programas o librer칤as que se instalan de manera uniforme tanto en interfaz como dentro del sistema de archivos.</p></section><ul style="-webkit-columns:2; -moz-columns:2; columns:2;  list-style-position: inside;"><li><a href="https://www.archlinux.org/download">Archlinux</a></li><li><strong><a href="https://manjaro.github.io/download">Manjaro (Archlinux-based)</a></strong></li><li><a href="https://www.debian.org/distrib/netinst">Debian</a></li><li><strong><a href="https://www.ubuntu.com/desktop">Ubuntu (Debian-based)</a></strong></li></ul><p>Manjaro y Ubuntu ofrecen discos de instalaci칩n bastante amigables. Desde ahora en adelante asumiremos que usan Linux.</p><section id="programas"><h5>Programas</h5><p>Los programas necesarios son:</p><ul style="-webkit-columns:2; -moz-columns:2; columns:2;  list-style-position: inside;"><li><dl class="iinlinenline"><dt><dfn><abbr title="GNU Compiler Collection">GCC</abbr></dfn></dt><dd>Un compilador de C.</dd></dl></li><li><dl class="inline"><dt><dfn>Qemu</dfn></dt><dd> Un emulador.</dd></dl></li><li><strong>git</strong></li><li>Un emulador de Terminal.</li><li>Una <strong>shell</strong>.</li><li>Un editor de texto.</li></ul></section></section><section><h3>Ambiente</h3><p>Durante el proyecto y las tareas van a pasar la mayor칤a del tiempo trabajando con una shell, por lo que es recomendable por lo que es recomendable que inviertan un poco de tiempo en acostumbrarse y hacerla m치s c칩moda.</p><section><h5>Terminal</h5><p>Los <a href="https://en.wikipedia.org/wiki/VT100">terminales</a> son m치quinas para usar remotamente un servidor, b치sicamente una pantalla y un teclado conectado en red al servidor. Hoy ya no se usan m치quinas especiales, s칩lo un programa que simula una, por lo que en la pr치ctica son s칩lo un programa para interactuar con una shell.</p><p>No hay demasiado que aprender y arreglar ac치, s칩lo pueden cambiar la fuente y el colorscheme, as칤 que pueden saltar a la secci칩n de <a href="#shell">Shells</a>.</p><p>Varios 'prompts' usan caracteres especiales que necesitan parchar las fuentes para agregarlos, el set m치s usual es el de powerline, y existen paquetes con versiones parchadas de las fuentes, as칤 que si su prompt se ve mal tienen que instalar y usar una fuente adecuada.</p><p>Existen varios emuladores de terminal, por lo general los escritorios tienen uno preferido, pero pueden usar cualquiera.</p><ul style="-webkit-columns:2; -moz-columns:2; columns:2;  list-style-position: inside;"><li>konsole / yakuake <small>(KDE [Qt])</small></li><li>gnome-terminal / guake <small>(Gnome,Unity [GTK])</small></li><li>terminology <small>(Enlightenment [EFL])</small></li><li>terminator <small>([GTK])</small></li><li><small>urxvt</small></li><li><small>xterm</small></li></ul><p>Fonts</p><ul style="-webkit-columns:2; -moz-columns:2; columns:2;  list-style-position: inside;"><li><a href="https://github.com/powerline/fonts">powerline/fonts</a></li><li><a href="https://aur.archlinux.org/packages/powerline-fonts-git/">AUR: powerline-fonts-git</a></li></ul><p>ColorSchemes</p><ul style="-webkit-columns:2; -moz-columns:2; columns:2;  list-style-position: inside;"><li><a href="http://ethanschoonover.com/solarized">Solarized</a></li><li><a href="http://color.smyck.org/">SMYCK</a></li><li><a href="http://ciembor.github.io/4bit/">Terminal ColorScheme Designer</a></li></ul></section><section id="shell"><h5>Shell</h5><p>Una shell es un int칠rprete de comandos (al igual que el REPL de ruby/python/js/haskell/), lo que tiene de especial es que est치 orientada a ejecutar otros programas.</p><h6>쮺u치l usar?</h6><p>Existen varias,</p><ul><li>bash (generalmente default)</li><li>zsh</li><p>Casi 100% compatible con bash. La configuraci칩n default es mala, pero existen algunos frameworks f치ciles de usar para configurarla:</p><ul><li><strong><a href="https://github.com/sorin-ionescu/prezto">prezto</a></strong></li><li><a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a></li></ul><li>fish</li><p>Muy buena por default. Tiene sint치xis distinta a la de bash, lo que quita portabilidad a sus scripts, pero no es un problema. Tambi칠n existe un framework para instalar plugins y themes:</p><ul><li><a href="https://github.com/oh-my-fish/oh-my-fish">oh-my-fish</a></li></ul><li>tsh, csh, ksh, ...</li></ul><h6>Usando la shell</h6><p>Existe una lista de directorios donde la shell puede descubrir programas, es conocida como <code>PATH</code>. Es posible extenderla para ejecutar programas desde directorios personales.</p><p>Ejecutar programas es simple, basta escribir el nombre del programa<small>, o la ruta completa si no est치n en el PATH</small>. Se le pueden entregar argumentos separados por espacios, todos son strings.</p><p>Por ejemplo, podemos llamar a 'telnet' y darle un string como argumento para conectarnos a alg칰n servidor.</p><pre><code class="hljs">telnet towel.blinkenlights.nl</code></pre><h6>Pipes</h6><pre><code class="hljs">echo "Mooo" | cowsay</code></pre><p>Ac치 llamamos a 'echo' con 'Mooo' como argumento, el que ejecuta y pasa su output como input de 'cowsay' sin argumentos. Esto produce el siguiente output:</p><pre><code class="hljs">  ______
 < Mooo >
  ------
           \   ^__^
            \  (oo)\_______
               (__)\       )\/\
                   ||----w |
                   ||     ||</code></pre><p>El operador pipe <code>|</code> toma el output del programa de la izquierda y se lo entrega como input al de la derecha, se puede usar siempre. La ejecuci칩n se hace en paralelo y los datos se intercambian en l칤neas completas. Hay que notar que algunos programas no pueden generar output antes de consumir todo el input (sort).</p><p>Pueden encadenarse varios programas,</p><pre><code class="hljs">echo "Moooooooo" | cowsay | cowsay -n | cowsay -n</code></pre><p>M치s adelante se ver치n con m치s detalle, por ahora basta que sepan que sirven para componer programas.</p></section><section><h5>Editor</h5><p>Existen varios editores de texto. Vim y Emacs son muy configurables, por lo que es c칩modo comenzar con una base.</p><ul><li>vim</li><ul style="-webkit-columns:2; -moz-columns:2; columns:2;  list-style-position: inside;"><li><strong><a href="https://github.com/spf13/spf13-vim">vim spf13</a></strong></li><li><a href="https://github.com/begriffs/haskell-vim-now">haskell-vim-now</a></li><li><a href="https://github.com/derekwyatt/vim-config">Derek Wyatt's config</a></li><li><a href="https://github.com/VundleVim/Vundle.vim">Vundle (Plugin Manager, DIY config)</a></li></ul><li>emacs</li><ul style="-webkit-columns:2; -moz-columns:2; columns:2;  list-style-position: inside;"><li><strong><a href="https://github.com/syl20bnr/spacemacs">Spacemacs</a></strong></li><li><a href="http://aaronbedra.com/emacs.d/">Aaron Bedra's config</a></li><li><a href="http://pages.sachachua.com/.emacs.d/Sacha.html">Sacha Chua's config</a></li></ul><li>kate/gedit</li><li>atom/sublime/notepad++</li><li><small>(ed)</small></li></ul><p>Lo m치s importante es que les sea una herramienta 칰til y los haga eficientes en vez de ser un obst치culo. Vim y Emacs son superiores a la mayor칤a, pero hay que aprender a usarlos (comenzar es f치cil, gastar 30 minutos y ser m치s lento al principio se paga).</p></section><section id="git"><h5>Git</h5><p>Git es un sistema de control de versiones distribuido que se ha convertido en una herramienta esencial para cualquier proyecto serio.</p><p>Para aprender git existe mucho material en internet.</p><ul><li><strong><a href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control">Book</a></strong></li><li><a href="https://git-scm.com/docs">Docs</a></li><li><strong><a href="http://rogerdudler.github.io/git-guide/">Simple Guide</a></strong></li><li><a href="http://gitimmersion.com/">Git Immersion</a></li><li><strong><a href="https://try.github.io/levels/1/challenges/1">CodeSchool</a></strong></li><li><a href="http://stackoverflow.com/questions/315911/git-for-beginners-the-definitive-practical-guide">SO practical guide</a></li><li><a href="http://ndpsoftware.com/git-cheatsheet.html">Git Cheatsheet</a></li><li><a href="http://onlywei.github.io/explain-git-with-d3">Explain git with D3 (tree management)</a></li></ul></section></section></article></div><footer><div class="col-xs-12 col-md-8 col-md-offset-2"><p style="padding-top:4em;">Profesor: 
<br> Cristian Ruz cruz@ing.puc.cl</p><p>Ayudantes: 
<br> Raul Alvarez, rsalvarez@uc.cl, Jefe Sistemas Operativos
<br> Pablo Araneda, pharaneda@uc.cl, Ayud Sistemas Operativos
<br> Por Fijar, fijar.por@uc.cl, Ayud Sistemas Operativos
<!--<br> Florencia Ljubetic, mfljubetic@uc.cl, Ayud Sistemas Operativos
<br> 츼lvaro Quintana, alvaroq@uc.cl, Ayud Sistemas Operativos
<br> Felipe Arellano, fharellano@uc.cl, Jefe Redes-->
<br> Por Fijar, fijar.por@uc.cl, Ayud Redes
<br> Por Fijar, fijar.por@uc.cl, Ayud Redes
<br> Por Fijar, fijar.por@uc.cl, Ayud Redes</p><p style="padding-top:2em;">IIC2333 Sistemas Operativos y Redes, Semestre 2022-1<br/>Departamento de Ciencia de la Computaci칩n<br/>Pontificia Universidad Cat칩lica de Chile<br/></p><img src="https://i.giphy.com/media/VOMvlxVHR7CF2/200.gif" style="width:220px" /><img src="../images/figures/linux.gif" width="100%" /></div></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script><script>opt = {
  "delimiters": [
    {left:   "$", right:   "$",  display: false},
    {left:  "$$", right:  "$$",  display: true},
    {left: "\\[", right: "\\]",  display: true},
    {left: "\\(", right: "\\)",  display: false}
  ]
}
renderMathInElement(document.body, opt);</script></body></html>